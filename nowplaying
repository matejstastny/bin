#!/usr/bin/env bash

# --------------------------------------------------------------------------------------------
# nowplaying - Show currently playing track in Apple Music (macOS)
# --------------------------------------------------------------------------------------------
# Author: Matej Stastny
# Date: 2025-09-26 (YYYY-MM-DD)
# License: MIT
# Link: https://github.com/matejstastny/bin
# --------------------------------------------------------------------------------------------
# Description:
#   Prints the currently playing track and artist from Apple Music, or "Not Playing" if stopped
#
# Features:
#   - Displays current track and artist from Apple Music
#   - Outputs "Not Playing" if nothing is playing
#
# Notes:
#   - Ensure this script is executable: chmod +x nowplaying
#   - Requires Apple Music app (macOS) to be installed
# --------------------------------------------------------------------------------------------

osascript <<'APPLESCRIPT'
tell application "Music"
    if player state is playing then
        set trackName to name of current track
        set trackArtist to artist of current track
        return trackName & " - " & trackArtist
    else
        return "Not Playing"
    end if
end tell
APPLESCRIPT
